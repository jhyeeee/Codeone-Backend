<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="com.codeone.dao.studygroup.StudygroupDao">

<update id="updateStudygroupRecruitment" parameterType="com.codeone.dto.studygroup.StudygroupDto">
	UPDATE studygroup SET title = #{title}, contents = #{contents}, recruitmentType = #{recruitmentType}, wayOfProceeding = #{wayOfProceeding}, numberOfRecruits = #{numberOfRecruits}, startDate = #{startDate}, endDate = #{endDate}, deadlineForRecruitment = #{deadlineForRecruitment}, isVisible = #{isVisible}
	WHERE seq = #{seq}
</update>

<insert id="writeStudyGroupRecruitment" parameterType="com.codeone.dto.studygroup.StudygroupDto" useGeneratedKeys="true" keyProperty="seq">
	INSERT INTO studygroup(memberSeq, title, contents, recruitmentType, wayOfProceeding, numberOfRecruits, startDate, endDate, deadlineForRecruitment, isVisible)
	VALUES (#{memberSeq}, #{title}, #{contents}, #{recruitmentType}, #{wayOfProceeding}, #{numberOfRecruits}, #{startDate}, #{endDate}, #{deadlineForRecruitment}, #{isVisible})
</insert>

<select id="selectOneBySeq" parameterType="int" resultType="com.codeone.dto.studygroup.StudygroupDto">
	SELECT * FROM studygroup WHERE seq = #{seq}
</select>

<update id="deleteStudygroupRecruitment" parameterType="int">
	UPDATE studygroup SET isDeleted = b'1' WHERE seq = #{seq}
</update>

<select id="getAll" resultType="com.codeone.dto.studygroup.StudygroupDto">
	SELECT *
	FROM studygroup
</select>
	
</mapper>